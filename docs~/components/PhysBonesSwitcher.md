# PhysBonesSwitcher コンポーネント

## コンポーネントの説明

PhysBones Swicher のメインコンポーネントです。<br />
このコンポーネントが追加されているアバターに対して、VRC Phys Bone の状態を動的に切り替えるメニューおよびアニメーションを追加します。

## 使用方法

1. アバターオブジェクトの配下に、空のオブジェクトを作成します。
   - メニューをオブジェクトで構成している場合、メニューを生成したい階層へ空のオブジェクトを追加してください。
2. 作成したオブジェクトへ、本コンポーネントを追加します。
3. Modular Avatar の `MA Menu Installer` コンポーネントを同じオブジェクトへ追加します。
   - 項番 1 でメニューを生成したい階層へオブジェクトを作成している場合、本手順は実施不要です。

## 各項目の説明

### PhysBone 無効化時の効果音

- PhysBone が無効化された際に鳴らす効果音をしています。
- 本項目は任意項目です。

### カスタム遅延時間

- カスタムの Phys Bone 無効化遅延時間を設定する項目です。

### Write Defaults 設定

- 生成される Animator Controller の Write Defaults 設定を指定する項目です。

### 操作対象外オブジェクト

- 本コンポーネントで有効状態の切り替え対象としたくないオブジェクトを指定します。
  - 操作対象外としたい VRC Phys Bone が追加されているオブジェクトを指定します。
- 「子オブジェクトも対象とする」にチェックを入れた場合、指定されたオブジェクトの子オブジェクトも対象外とします。

### PhysBone の自動分離処理を無効化する

- VRC Phys Bone コンポーネントの自動分離処理を行わないように設定を行う項目です。

※1 オブジェクトに対して複数の VRC Phys Bone コンポーネントが割り当てられている場合、自動で 1 オブジェクトに 1 つの VRC Phys Bone コンポーネントが割り当てられるように修正を行う処理が実行されます。
本項目は、前述の処理を行わないように明示的に設定するための項目です。

### PhysBone 操作アニメーションの生成を Optimizing Phase で行う

- VRC Phys Bone コンポーネントを有効化・無効化するアニメーションの生成を Optimizing Phase で行うよう変更するための項目です。

※他の拡張機能で VRC Phys Bone の追加・削除が行われる場合、本コンポーネントと干渉して正常に動作しない場合があります。
本設定項目は、それらのパターンを回避するための設定項目となります。

### Vehicle Mode の設定値を保存する

- アバター側メニューで設定した Vehicle Mode の設定値を保存するか選択するための項目です。
  - この項目にチェックを入れると、インスタンスを移動した際にも設定値が保持されます。
